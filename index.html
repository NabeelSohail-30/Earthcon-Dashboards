<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body>
    <header class="header">
      <div class="nav-left">
        <div class="hamburger">
          <img src="./assets/images/menu.png" alt="" />
        </div>
        <div class="logo">
          <img src="./assets/images/dashboard-icon.png" alt="" />
        </div>
      </div>
      <ul class="drop-menu-container">
        <li><a href="#">Home</a></li>
        <li><a href="#">Projects</a></li>
        <li><a href="#">Content</a></li>
      </ul>
      <div class="user-icon">
        <img src="./assets/images/profile-head-icon.png" alt="" />
      </div>
      <div class="drop-menu">
        <img src="./assets/images/arrow-down.png" alt="">
      </div>
    </header>

    <div class="main-content">
      <!-- Sidebar -->
      <aside class="sidebar">
        <ul>
          <li class="nav-dashboard">
            <a href="#">
              <div class="nav-icon"></div>
              <div class="nav-text">Dashboard</div></a
            >
          </li>
          <li class="nav-purchase">
            <a href="#">
              <div class="nav-icon"></div>
              <div class="nav-text">Purchase History</div></a
            >
          </li>
          <li class="nav-product">
            <a href="#">
              <div class="nav-icon"></div>
              <div class="nav-text">My Products</div></a
            >
          </li>
          <li class="nav-profile">
            <a href="#">
              <div class="nav-icon"></div>
              <div class="nav-text">My Profile</div></a
            >
          </li>
          <li class="nav-cart">
            <a href="#">
              <div class="nav-icon"></div>
              <div class="nav-text">Cart</div></a
            >
          </li>
          <li class="nav-wish">
            <a href="#">
              <div class="nav-icon"></div>
              <div class="nav-text">Wishlist</div></a
            >
          </li>
          <li class="nav-pass">
            <a href="#">
              <div class="nav-icon"></div>
              <div class="nav-text">Change Password</div></a
            >
          </li>
          <li class="nav-logout">
            <a href="#">
              <div class="nav-icon"></div>
              <div class="nav-text">Logout</div></a
            >
          </li>
        </ul>
      </aside>

      <!-- Dashboard -->
      <section class="dashboard">
        <div class="dashboard-header">
          <img
            src="./assets/images/pexels-binyaminmellish-106399.jpg"
            alt="House Image"
            class="banner-img"
          />
        </div>

        <div class="dash-bottom">
          <div class="dash-left">
            <div class="dashboard-stats">
              <div class="card">
                <img src="./assets/images/profile-card.png" alt="" />
                <h3>My Profile</h3>
              </div>
              <div class="card">
                <img src="./assets/images/property-card.png" alt="" />
                <h3>My Products</h3>
              </div>
              <div class="card">
                <img src="./assets/images/notifi-card.png" alt="" />
                <h3>Notifications</h3>
              </div>
            </div>

            <div class="payment-report">
              <div class="content-head">
                <h2>Payment Report</h2>
                <button class="view-button">View</button>
              </div>
              <table>
                <thead>
                  <tr>
                    <th class="file">File Code</th>
                    <th>Installment Due Date</th>
                    <th>Installment Amount</th>
                    <th>Paid Date</th>
                    <th>Paid Amount</th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td data-label="File Code">WR-RUND-5M-0002</td>
                    <td data-label="Installment Due Date">2024-1-10</td>
                    <td data-label="Installment Amount">Rs. 17,500</td>
                    <td data-label="Paid Date">2024-1-18</td>
                    <td data-label="Paid Amount">Rs. 17,000</td>
                    <td class="status" data-label="Status">
                      <a class="paid" href="#">Paid</a>
                    </td>
                  </tr>
                  <tr>
                    <td data-label="File Code">WR-RUND-5M-0002</td>
                    <td data-label="Installment Due Date">2024-2-10</td>
                    <td data-label="Installment Amount">Rs. 17,500</td>
                    <td data-label="Paid Date">2024-2-01</td>
                    <td data-label="Paid Amount">Rs. 17,500</td>
                    <td class="status" data-label="Status">
                      <a class="rejected" href="#">Rejected</a>
                    </td>
                  </tr>
                  <tr>
                    <td data-label="File Code">WR-RUND-5M-0002</td>
                    <td data-label="Installment Due Date">2024-3-10</td>
                    <td data-label="Installment Amount">Rs. 17,500</td>
                    <td data-label="Paid Date">2024-3-14</td>
                    <td data-label="Paid Amount">Rs. 18,000</td>
                    <td class="status" data-label="Status">
                      <a class="paid" href="#">Paid</a>
                    </td>
                  </tr>
                  <tr>
                    <td data-label="File Code">WR-RUND-5M-0006</td>
                    <td data-label="Installment Due Date">2024-1-10</td>
                    <td data-label="Installment Amount">Rs. 17,500</td>
                    <td data-label="Paid Date">2024-3-16</td>
                    <td data-label="Paid Amount">Rs. 17,500</td>
                    <td class="status" data-label="Status">
                      <a class="paid" href="#">Paid</a>
                    </td>
                  </tr>
                  <tr>
                    <td data-label="File Code">WR-RUND-5M-0006</td>
                    <td data-label="Installment Due Date">2024-2-10</td>
                    <td data-label="Installment Amount">Rs. 17,500</td>
                    <td data-label="Paid Date">2024-3-11</td>
                    <td data-label="Paid Amount">Rs. 17,500</td>
                    <td class="status" data-label="Status">
                      <a class="pending" href="#">Pending</a>
                    </td>
                  </tr>
                  <tr>
                    <td data-label="File Code">WR-RUND-5M-0006</td>
                    <td data-label="Installment Due Date">2024-3-10</td>
                    <td data-label="Installment Amount">Rs. 17,500</td>
                    <td data-label="Paid Date">2024-3-05</td>
                    <td data-label="Paid Amount">Rs. 17,500</td>
                    <td class="status" data-label="Status">
                      <a class="paid" href="#">Paid</a>
                    </td>
                  </tr>
                </tbody>
              </table>
              
            </div>
          </div>
          <div class="dash-right">
            <div class="analytics-container">
              <h2>Payment Analytics</h2>
              <div class="chart-container">
                <canvas id="paymentChart"></canvas>
                <div class="legend">
                  <div>
                    <span class="legend-dot blue"></span> 100% Total Amount
                    <span class="amount">Rs. 1,800,000</span>
                  </div>
                  <div>
                    <span class="legend-dot green"></span> 60% Total Paid Amount
                    <span class="amount">Rs. 491,250</span>
                  </div>
                  <div>
                    <span class="legend-dot orange"></span> 20% Pending
                    Approvals <span class="amount">Rs. 360,000</span>
                  </div>
                  <div>
                    <span class="legend-dot red"></span> 20% Total Remaining
                    <span class="amount">Rs. 1,308,750</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="target-container">
              <div class="chart-head">
                <h2>Payment Target Actual Vs Paid</h2>
                <!-- <select class="dropbtn">
                  <option value="2024">2024</option>
                  <option value="2023">2023</option>
                  <option value="2022">2022</option>
                  <option value="2021">2021</option>
                </select> -->

                <div class="dropdown">
                  <button class="dropbtn">Select a Year</button>
                  <div class="dropdown-content">
                    <a href="#">2024</a>
                    <a href="#">2023</a>
                    <a href="#">2022</a>
                  </div>
                </div>
              </div>
              <div class="chart-container">
                <canvas id="barChart"></canvas>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <p>Copyright Â© 2024 All Rights Reserved @ Earthcon</p>
      <div class="social-icons">
        <a href="#"><img src="./assets/images/twitter.png" alt="" /></a>
        <a href="#"><img src="./assets/images/fb.png" alt="" /></a>
        <a href="#"><img src="./assets/images/yt.png" alt="" /></a>
        <a href="#"><img src="./assets/images/linkedin.png" alt="" /></a>
        <a href="#"><img src="./assets/images/ig.png" alt="" /></a>
      </div>
      <p>Privacy Policy | Terms & Condition</p>
    </footer>
  </body>

  <script>
    // Doughnut Chart for Payment Analytics
    const doughnutCtx = document
      .getElementById("paymentChart")
      .getContext("2d");
    const doughnutChart = new Chart(doughnutCtx, {
      type: "doughnut",
      data: {
        labels: [
          "Total Amount",
          "Total Paid Amount",
          "Pending Approvals",
          "Total Remaining",
        ],
        datasets: [
          {
            data: [100, 60, 20, 20],
            backgroundColor: ["#007bff", "#28a745", "#ffc107", "#dc3545"],
            hoverBackgroundColor: ["#0056b3", "#218838", "#e0a800", "#c82333"],
            borderWidth: 0,
          },
        ],
      },
      options: {
        cutout: "70%",
        responsive: false,
        maintainAspectRatio: false,
        plugins: {
          legend: {
            display: false,
          },
          tooltip: {
            callbacks: {
              label: function (tooltipItem) {
                const value = tooltipItem.raw;
                return ` ${value}%`;
              },
            },
          },
        },
      },
    });

    // Bar Chart for Payment Target Actual Vs Paid
    const barCtx = document.getElementById("barChart").getContext("2d");
    const barChart = new Chart(barCtx, {
      type: "bar",
      data: {
        labels: [
          "Jan",
          "Feb",
          "Mar",
          "Apr",
          "May",
          "Jun",
          "Jul",
          "Aug",
          "Sept",
          "Oct",
          "Nov",
          "Dec",
        ],
        datasets: [
          {
            label: "Paid",
            data: [
              300000, 150000, 200000, 175000, 400000, 450000, 500000, 250000,
              300000, 270000, 550000, 350000,
            ],
            backgroundColor: "#f89b2d",
          },
          {
            label: "Actual",
            data: [
              500000, 400000, 450000, 300000, 600000, 700000, 750000, 500000,
              550000, 500000, 750000, 600000,
            ],
            backgroundColor: "#fbdba1",
          },
        ],
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        scales: {
          y: {
            beginAtZero: true,
            max: 1000000,
            ticks: {
              callback: function (value) {
                return value.toLocaleString();
              },
            },
            grid: {
              display: false, // Disable gridlines
            },
            stacked: true, // Enable stacked bars
          },
          x: {
            ticks: {
              maxRotation: 0,
              minRotation: 0,
            },
            grid: {
              display: false, // Disable gridlines
            },
            stacked: true, // Enable stacked bars
          },
        },
        plugins: {
          legend: {
            position: "top",
          },
          tooltip: {
            callbacks: {
              label: function (context) {
                let value = context.parsed.y;
                return value.toLocaleString();
              },
            },
          },
        },
      },
    });

    const hamburger = document.querySelector(".hamburger");
    const sidebar = document.querySelector(".sidebar");
    const drop_Btn = document.querySelector(".drop-menu")
    const drop_Menu = document.querySelector(".drop-menu-container")

    let show = false;
    let showdrop_Menu = false;

    

    if (hamburger) {
      hamburger.addEventListener("click", () => {
        if (show == false) {
          sidebar.style.left = "0px";
          show = true;
        } else if (show == true) {
          sidebar.style.left = "-400px";
          show = false;
        }
        console.log(show , "------")
      });
    }
    if(drop_Btn) {
      drop_Btn.addEventListener("click", ()=>{
        console.log('working')
        if(showdrop_Menu == false){
          drop_Menu.style.right = '0px'
          showdrop_Menu = true;
        }
        else if (showdrop_Menu == true){
          drop_Menu.style.right = '-300px';
          showdrop_Menu = false;
        }
        console.log(showdrop_Menu, "=======")
      })
    }
  </script>
</html>
